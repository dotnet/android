---
title: .NET for Android error XA1042
description: XA1042 error code
ms.date: 01/29/2026
---
# .NET for Android error XA1042

## Example messages

```
The 'AndroidHttpClientHandlerType' property is deprecated and not supported with NativeAOT. The property value 'System.Net.Http.SocketsHttpHandler, System.Net.Http' will be ignored, and the default handler 'Xamarin.Android.Net.AndroidMessageHandler' will be used. Remove the 'AndroidHttpClientHandlerType' property from your project file. To use a custom HTTP handler, pass it to the HttpClient constructor.
```

## Issue

The `AndroidHttpClientHandlerType` MSBuild property is not compatible with NativeAOT because type name resolution at runtime requires reflection, which cannot be safely used with ahead-of-time compilation.

When targeting NativeAOT, the default `Xamarin.Android.Net.AndroidMessageHandler` handler will always be used regardless of the `AndroidHttpClientHandlerType` property value.

## Solution

Remove the `AndroidHttpClientHandlerType` property from your project file.

If you need to use a custom HTTP message handler, pass it directly to the `HttpClient` constructor:

```csharp
var handler = new MyCustomHttpHandler();
var client = new HttpClient(handler);
```

This approach is compatible with all .NET for Android runtimes including NativeAOT, CoreCLR, and MonoVM.
